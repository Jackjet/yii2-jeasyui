window.yii.easyui=function(c){var g={},f,l=c(".main-mask"),m=function(a,b,d){var e=[],k=1;c.each(a,function(a,b){k?k=0:e.push(b)});e.length?yii.easyui.doIfReferenceExists(e,b,d):b(d)},q=c("#global-error"),h,p=function(a,b,d,e){f.tabs({fit:!0,border:!1,onSelect:function(d,e){var c=f.tabs("getSelected").panel("options");c.href&&window.history.replaceState("",d,decodeURIComponent(c.href));document.title=d;b(a(c.data.nav));n()},onLoad:function(a){},onClose:function(a,b){n()}});yii.easyui.tabOptions&&
yii.easyui.tabOptions.title?(yii.easyui.createTab(yii.easyui.tabOptions,yii.easyui.selectedNav),yii.easyui.hideMainMask(),delete yii.easyui.tabOptions):(d=d(yii.easyui.selectedNav),"undefined"!==typeof d&&d?e(d):(yii.easyui.hideMainMask(),c.messager.alert("Error","Navigation not found","error")))},n=function(){var a=f.tabs("getTab",0);1<f.tabs("tabs").length?f.tabs("update",{tab:a,options:{closable:!0}}):f.tabs("update",{tab:a,options:{closable:!1}})},r=function(){h.tree({lines:!0,data:yii.easyui.navItem,
onDblClick:function(a){a.attributes&&a.attributes.url&&(yii.easyui.showMainMask(),yii.easyui.createTab({title:a.text,href:a.attributes.url,iconCls:a.iconCls},a.id))}});p(function(a){return h.tree("find",a)},function(a){a&&h.tree("select",a.target)},function(a){return h.tree("find",a)},function(a){var b={title:a.text,iconCls:a.iconCls};yii.easyui.tabOptions&&yii.easyui.tabOptions.content?(b.content=yii.easyui.tabOptions.content,yii.easyui.hideMainMask()):b.href=a.attributes.url;yii.easyui.createTab(b,
a.id)})},t=function(){h.accordion({border:!1,fit:!0});var a=function(a){var b="";a.children?c.each(a.children,function(d,c){b+='<a data-accordion="'+a.title+'" id="'+c.id+'" data-icon="'+c.iconCls+'" data-url="'+c.attributes.url+'" data-tabtitle="'+c.text+'" class="nav-btn">'+c.text+"</a>"}):b+='<a data-accordion="'+a.title+'" id="'+a.id+'" data-icon="'+a.iconCls+'" data-url="'+a.attributes.url+'" data-tabtitle="'+a.text+'" class="nav-btn">'+a.text+"</a>";return b};c.each(yii.easyui.navItem,function(b,
d){if("undefined"===typeof d.visible||d.visible)d.title=d.text,d.content=a(d),void 0===d.children&&delete d.id,h.accordion("add",d)});c.each(c(".nav-btn"),function(a,d){c(d).linkbutton({toggle:!0,group:"g1",iconCls:d.dataset.icon,onClick:function(){yii.easyui.showMainMask();yii.easyui.createTab({title:d.dataset.tabtitle,href:d.dataset.url,iconCls:d.dataset.icon},d.id)}})});p(function(a){return document.getElementById(a)},function(a){"undefined"!==typeof a&&a&&!a.classList.contains("l-btn-selected")&&
(h.find(".l-btn-selected").removeClass("l-btn-selected"),a.classList.add("l-btn-selected"),h.accordion("select",a.dataset.accordion))},function(a){return document.getElementById(a)},function(a){var b={title:a.text,iconCls:a.iconCls};yii.easyui.tabOptions&&yii.easyui.tabOptions.content?(b.content=yii.easyui.tabOptions.content,yii.easyui.hideMainMask()):b.href=a.dataset.url;yii.easyui.createTab(b,yii.easyui.selectedNav)})},u=function(){var a=c("#north-user-menu");a.menu({});var b={};c.each(yii.easyui.northUserMenu,
function(d,c){if(void 0!==c.parent)if(void 0===b[c.parent]&&(b[c.parent]=a.menu("findItem",c.parent)),b[c.parent])c.parent=b[c.parent].target;else return!1;a.menu("appendItem",c)});c("#north-user-menu-btn").menubutton({text:yii.easyui.username,iconCls:"icon-user",menu:a})};return{isActive:!1,westContent:"",northContent:"",centerContent:"",southContent:"",reference:{},init:function(){window.onbeforeunload=function(a){yii.easyui.showMainMask()};c.ajaxSetup({error:function(a,b,d){0===a.readyState?c.messager.confirm("Error",
"Connection error, retry now?",function(){c.ajax(this)}):yii.easyui.showError(a)}});c("body").layout({fit:!0,border:!1}).layout("add",{region:"north",content:yii.easyui.northContent,collapsible:!1,border:!1,height:40}).layout("add",{title:yii.easyui.westTitle,region:"west",iconCls:yii.easyui.westIcon,split:!0,width:200,content:yii.easyui.westContent,hideCollapsedContent:!1,onCollapse:function(){yii.easyui.cookie.set("west-collapsed",1)},onExpand:function(){yii.easyui.cookie.set("west-collapsed",0)}}).layout("add",
{region:"south",content:yii.easyui.southContent,border:!1}).layout("add",{region:"center",content:yii.easyui.centerContent});delete yii.easyui.northContent;delete yii.easyui.westContent;delete yii.easyui.southContent;delete yii.easyui.centerContent;~~yii.easyui.cookie.get("west-collapsed")&&c("body").layout("collapse","west");u();h=c("#navigation");f=c("#maintab");"tree"===yii.easyui.sidebarPlugin?r():t();delete yii.easyui.selectedNav;"undefined"!==typeof yii.easyui.errorName&&c.messager.alert(yii.easyui.errorName,
yii.easyui.errorMessage,"error");delete yii.easyui.errorName;delete yii.easyui.errorMessage},createTab:function(a,b){f.tabs("exists",a.title)?(f.tabs("select",a.title),yii.easyui.hideMainMask()):(void 0===a.data&&(a.data={}),a.closable=f.tabs("tabs").length,a.data.nav=b,a.onLoadError=function(a){var b=f.tabs("getSelected");0===a.readyState?(yii.easyui.hideMainMask(),c.messager.confirm("Error","Connection error, retry now?",function(){yii.easyui.showMainMask();b.panel("refresh")})):(f.tabs("update",
{tab:b,options:{content:a.responseText}}),yii.easyui.hideMainMask())},f.tabs("add",a))},showGridMsg:function(a,b){var d=c(a).datagrid("getPanel").children("div.datagrid-view");b.rows.length?d.children("div.datagrid-empty").remove():c('<div class="datagrid-empty"></div>').html("No Records Found").appendTo(d).css({position:"absolute",left:0,top:50,width:"100%",textAlign:"center"})},showError:function(a){a="undefined"!==typeof a.responseText?a.responseText:a;if("object"===typeof a){var b=[];c.each(a,
function(a,c){b.push(c)});a=b.join(", ")}q.dialog({title:"Error",modal:!0,minWidth:300,minHeight:200,maxWidth:window.innerWidth-50,maxHeight:window.innerHeight-50,content:a})},doIfReferenceExists:function(a,b,d){"undefined"!==typeof a[0]&&"undefined"===typeof yii.easyui.reference[a[0]]?c.ajax({url:yii.easyui.getReferenceUrl,data:{type:a[0]},dataType:"json",success:function(c){yii.easyui.reference[a[0]]=c;m(a,b,d)}}):m(a,b,d)},dateBoxFormatter:function(a){var b=a.getFullYear(),c=a.getMonth()+1;a=a.getDate();
return(10>a?"0"+a:a)+"-"+(10>c?"0"+c:c)+"-"+b},dateBoxParser:function(a){if(!a)return new Date;var b=a.split("-");a=parseInt(b[0],10);var c=parseInt(b[1],10);b=parseInt(b[2],10);return isNaN(a)||isNaN(c)||isNaN(b)?new Date:new Date(b,c-1,a)},formOptionsOnCreateAjaxDialogForm:{},createAjaxDialogForm:function(a,b,d,e){e=e||{};yii.easyui.formOptionsOnCreateAjaxDialogForm[b]=e;"undefined"===typeof g[a]&&(g[a]={});"undefined"===typeof g[a][b]?(d=c.extend(!0,{title:b,closed:!0,modal:!0,width:500,height:400,
buttons:[{iconCls:"icon-disk",text:"Save",handler:function(){}},{iconCls:"icon-cancel",text:"Cancel",handler:function(){g[a][b].dialog("close")}}],onLoad:function(){"undefined"!==typeof e&&"undefined"!==typeof e.loadData&&c("#"+b).form("load",e.loadData)}},d),window.innerHeight-20<d.height&&(d.height=window.innerHeight-20),g[a][b]=c("<div></div>").dialog(d)):(g[a][b].children().form("clear"),"undefined"!==typeof e&&"undefined"!==typeof e.loadData&&g[a][b].children().form("load",e.loadData),yii.refreshCsrfToken());
g[a][b].dialog("open");return!0},getDialogForm:function(a,b){return"undefined"!==typeof g[a]&&"undefined"!==typeof g[a][b]?g[a][b]:c("#blank")},destroyDialogForm:function(a,b){"undefined"!==typeof g[a]&&"undefined"!==typeof g[a][b]&&(yii.easyui.getDialogForm(a,b).dialog("destroy"),delete g[a][b])},deleteHandler:function(a,b,d,e,k){var g=a.datagrid("getChecked");g.length?c.messager.confirm("Delete Confirmation","Are you sure to delete the checked rows?",function(f){if(f){d=d||"id";e=e||"ids";k=k||
{};k.doAfterDelete=k.doAfterDelete||function(b){b.success?"undefined"!==typeof b.list?a.datagrid("loadData",b.list):a.datagrid("reload"):"undefined"!==typeof b.error?yii.easyui.showError(b.error):c.messager.alert(b.name,b.message,"error")};var h={};f=a.datagrid("options");h.rows=f.pageSize;h.page=f.pageNumber;h[e]=[];c.each(g,function(a,b){h[e].push(b[d])});"undefined"!==typeof k.doBeforeDelete&&k.doBeforeDelete(h);c.ajax({url:b,type:"post",dataType:"json",data:h,success:function(a){yii.refreshCsrfToken();
k.doAfterDelete(a)}})}}):c.messager.alert("Attention","Must checked the record will be delete","warning")},defaults:{validatebox:{minLength:function(){"undefined"===typeof c.fn.validatebox.defaults.rules.minLength&&(c.fn.validatebox.defaults.rules.minLength={validator:function(a,b){return a.length>=b[0]},message:"Please enter at least {0} characters."})},equals:function(){"undefined"===typeof c.fn.validatebox.defaults.rules.equals&&(c.fn.validatebox.defaults.rules.equals={validator:function(a,b){return a===
c(b[0]).val()},message:"Field do not match."})}},pagination:{displayMsg:function(a){a=a||"{from} - {to} of {total}";"reset"===a&&(a="Displaying {from} to {to} of {total} items");c.fn.pagination.defaults.displayMsg=a},last:function(){c.fn.pagination.defaults.last={}}}},getMainTab:function(){return f},defaultDgOptions:{fit:!0,striped:!0,border:!1,method:"get",rownumbers:!0,pagination:!0,checkOnSelect:!1,selectOnCheck:!1,singleSelect:!0,onLoadSuccess:function(a){yii.easyui.showGridMsg(this,a);c(this).datagrid("selectRow",
0);yii.easyui.hideMainMask()},onLoadError:function(a){yii.easyui.showError(a);yii.easyui.hideMainMask()}},showMainMask:function(){l.css("display","block")},hideMainMask:function(){l.css("display","none")},cookie:{set:function(a,b,c,e){c=c||1;e=e||"";var d="";c&&(d=new Date,d.setTime(d.getTime()+864E5*c),d="; expires="+d.toGMTString());document.cookie=a+"="+b+d+"; path=/"+e},get:function(a){a+="=";for(var b=document.cookie.split(";"),c=0;c<b.length;c++){for(var e=b[c];" "===e.charAt(0);)e=e.substring(1,
e.length);if(0===e.indexOf(a))return e.substring(a.length,e.length)}return null},"delete":function(a,b){yii.easyui.cookie.set(a,"",-1,b)}}}}(window.jQuery);